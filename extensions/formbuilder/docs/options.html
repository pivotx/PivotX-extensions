<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="robots" content="noindex, nofollow" />
<link rel="stylesheet" type="text/css" href="../../../../pivotx/templates_internal/assets/pivotx_docs.css"/>
<title>Configuration options - Formbuilder for PivotX documentation</title>
</head>
<body>
<div id="header">
  <h1><a href="index.html">Formbuilder for PivotX</a></h1>
</div>
<div id="content">
<div id="menu">
  <ul>
    <li><a href="index.html">Home</a></li>
    <li><a href="install.html">Installation</a></li>
    <li><a href="usage.html">Usage</a></li>
    <li><a href="examples.html">Examples</a></li>
    <li>Options
      <ul>
        <li><a href="contactform.html">contactform</a></li>
        <li><a href="orderform.html">orderform</a></li>
        <li><a href="templates.html">templates</a></li>
      </ul>
    </li>
    <li><a href="faq.html">FAQ</a></li>
    <li><a href="changelog.html">Changelog</a></li>
  </ul>
</div>
<div id="main">
  <h2>Options</h2>
  <p>There are two ways to configure the e-mail function of the form. The simple one is using the normal mail function and the complicated but more reliable one is using SMTP.</p>
  <p>The normal mail function should &quot;Just Work&trade;&quot;</p>
  <p>The configuration for SMTP needs the username, the password and the servername of the e-mail account you will use.</p>
  <ul>
    <li><a href="#customization">Configuration and customization options</a></li>
    <li><a href="#basics">Basics</a></li>
    <li><a href="#mail_config">Mail configuration</a></li>
    <li><a href="#fields">Fields definition</a></li>
    <li><a href="#fmarkup">Extra markup options</a></li>
  </ul>
  <h3><a name="customization"></a>Configuration and customization options</h3>
  <p>The forms you can make are controlled by a huge hierarchical array.</p>
  <p>The configuration is one big array that has the following structure:</p>
  <pre>
$config = array(
  'id' => 'formid',
  'name' => 'formname',
  'action' => $_SERVER["REQUEST_URI"],
  'templates' => array(
    'confirmation' => 'form.confirm.tpl.php', // filename in formpath or html string
    'elements' => 'formclass_defaulthtml.php',
    'mailreply' => 'form.mail.tpl.php' // filename in formpath or html string
  ),
  'method' => 'post', // get | post
  'encoding' => '', // multipart/form-data | empty
  'buttons' => array(
    'verzenden' => array(
      'type' => 'submit',
      'label' => '',
      'value' => 'Send form'
    )
  ),
  'fields' => array(
    'fieldname1' => array(
      'name' => 'fieldname1',
      'label' => 'Name 1',
      'type' => 'text',
      'isrequired' => true,
      'validation' => 'required',
      'requiredmessage' => '&quot;Name 1&quot; is required',
      'error' => 'Please check &quot;Name 1&quot;'
    ),
    'fieldname2' => array(
      'name' => 'fieldname2',
      'label' => 'Name 2',
      'type' => 'text',
      'isrequired' => true,
      'validation' => 'required',
      'requiredmessage' => '&quot;Name 2&quot; is required',
      'error' => 'Please check &quot;Name 2&quot;'
    ),
    'fieldname3' => array(
      'name' => 'fieldname3',
      'label' => 'Name 3',
      'type' => 'text',
      'isrequired' => true,
      'validation' => 'required',
      'requiredmessage' => '&quot;Name 3&quot; is required',
      'error' => 'Please check &quot;Name 3&quot;'
    ),
    'fieldname3' => array(
      'name' => 'fieldname3',
      'label' => 'Name 4',
      'type' => 'text',
      'isrequired' => true,
      'validation' => 'required',
      'requiredmessage' => '&quot;Name 4&quot; is required',
      'error' => 'Please check &quot;Name 4&quot;'
    )
  ),
  'mail_config' => array(
    'subject' => 'E-mail subject',
    'recipient' => array(
      'email' => 'formtomail@example.com',
      'name' => 'Formtomail'
    ),
    'sender' => array(
      'email' => 'formtomail@example.com',
      'name' => 'Formtomail'
    ),
    'method' => 'mail', // mail | smtp
    'smtp' => array(
      'login' => 'formtomail@example.com',
      'password' => 'password',
      'server' => 'mail.example.com'
    )
  ),
  'fieldsets' => array(
    'fieldset1' => array(
      'label' => 'fieldset title 1',
      'fields' => array('fieldname1', 'fieldname2')
    ),
    'fieldset2' => array(
      'label' => 'fieldset title 2',
      'fields' => array('fieldname3', 'fieldname4')
    )
  )
);
</pre>
  <p>If that looks terrible to you, you're right. Let go through all the options.</p>
  <h3><a name="basics"></a>Basics</h3>
  <dl>
    <dt>id</dt>
    <dd>Simple string, with the html id attribute of the form.</dd>
    <dt>name</dt>
    <dd>Simple string, with the html name attribute of the form.</dd>
    <dt>action</dt>
    <dd>The url for the action attribute of the form. <code>$_SERVER["REQUEST_URI"]</code> is usually the best, it's the same as the page you're on when you load the form.</dd>
    <dt>templates</dt>
    <dd>Filenames of the default templates for the form_html, the <a href="templates.html">e-mail message</a> and the <a href="templates.html">confirmation page</a>.</dd>
    <dt>method</dt>
    <dd>The type of form you're creating. Possible values are <code>post</code> and <code>get</code>.</dd>
    <dt>encoding</dt>
    <dd>Only used for file uploads (<code>multipart/form-data</code>), otherwise empty.</dd>
    <dt><a href="#mail_config">mail_config</a></dt>
    <dd>Configuration variables for the e-mail function.</dd>
    <dt>buttons</dt>
    <dd>Used for the submit buttons of the form. Please use only one submit button for now.</dd>
    <dt><a href="#fields">fields</a></dt>
    <dd>The definition of all form fields in a nested array.</dd>
    <dt>fieldsets</dt>
    <dd>Links to the fields grouped and ordered in fieldsets. Fields not in fieldsets will be appended at the end of the form.</dd>
  </dl>
  <h3><a name="mail_config"></a>Mail configuration</h3>
  <dl>
    <dt>mail_config</dt>
    <dd>Configuration variables for the e-mail function.
      <dl>
        <dt>subject</dt>
        <dd>Simple string with the subject of the email</dd>
        <dt>recipient</dt>
        <dd>Named array of <code>email</code> and <code>name</code> for the recipient, both keys are required. If the optional keys <code>formfield_email</code> and <code>formfield_name</code> exist
          they must contain the identifying key for an e-mail and a name field, and will be added as an extra recipient.</dd>
        <dt>sender</dt>
        <dd>Named array of <code>email</code> and <code>name</code> for the sender.</dd>
        <dt>bcc</dt>
        <dd>Named array of <code>email</code> and <code>name</code> for the bcc field.</dd>
        <dt>cc</dt>
        <dd>Named array of <code>email</code> and <code>name</code> for the cc field. If <code>email</code> and <code>name</code> are false the keys <code>formfield_email</code> and <code>formfield_name</code> are required and must contain the identifying key for an e-mail and a name field</dd>
        <dt>method</dt>
        <dd>E-mail send method. <code>mail</code> or <code>smtp</code></dd>
        <dt>smtp</dt>
        <dd>Only used with smtp method. Named array with <code>login</code>, <code>password</code> and SMTP <code>server</code> values.</dd>
      </dl>
    </dd>
  </dl>
<pre>
$config['mail_config'] = array(
  'subject' => 'E-mail subject',
  'recipient' => array(
    'email' => 'formtomail@example.com',
    'name' => 'Formtomail'
  ),
  'sender' => array(
    'email' => 'formtomail@example.com',
    'name' => 'Formtomail'
  ),
  'bcc' => array(
    'email' => 'lodewijk@twokings.nl',
    'name' => 'Meerdanbeheer inschrijvingen - BCC'
	),
  'cc' => array(
    'formfield_email' => 'email',
    'formfield_name' => 'name',
    'email' => false,
    'name' => false
	),
  'method' => 'mail', // mail | smtp
  'smtp' => array(
    'login' => 'formtomail@example.com',
    'password' => 'password',
    'server' => 'mail.example.com'
  )
);
</pre>
  <h3><a name="fields"></a>Fields definition</h3>
  <p>Each field is a named array with all the options for the field that is defined</p>
  <h4>name</h4>
  <p>The internal name of the field, will be used for the id, and should beunique in the form. In this example we'll use <code>examplefield</code></p>
  <h4>field types</h4>
  <dl>
    <dt>text</dt>
    <dd>default text input fields</dd>
    <dt>text_readonly</dt>
    <dd>readonly text input fields, make sure to set a default value</dd>
    <dt>textarea</dt>
    <dd>default textarea input fields</dd>
    <dt>select</dt>
    <dd>select box items, an array of options is required</dd>
    <dt>radios</dt>
    <dd>radio input fields, an array of options is required</dd>
    <dt>checkbox</dt>
    <dd>checkbox input fields</dd>
  </dl>
  <h4>label</h4>
  <p>The visible label of the field, will be placed next to the input field itself.</p>
  <h4>requiredmessage</h4>
  <p>A message you want to display if the field is required and not entered.</p>
  <h4>errormessage</h4>
  <p>A message you want to display if the entered value is incorrect.</p>
  <h4>value</h4>
  <p>Yes you can enter a defaultvalue if you want to.</p>
  <h4>validation</h4>
  <dl>
    <dt>required</dt>
    <dd>use this for required values</dd>
    <dt>ifany</dt>
    <dd>use this in combination with string for not-required (optional) string values</dd>
    <dt>string</dt>
    <dd>check if the input is a valid string, which means no unsafe html or scripts are included, this is the default for all fields</dd>
    <dt>integer</dt>
    <dd>check if the input is a valid number</dd>
    <dt>email</dt>
    <dd>check if the input is a valid e-mail address</dd>
    <dt><del>/regexppattern/</del></dt>
    <dd><del>you can use a regular expression if you want to test the input directly</del> (not implemented, will be added later)</dd>
    <dt>phonenumber</dt>
    <dd>at the moment this just checks if the string contains a valid numeric string with spaces, dashes or + signs</dd>
    <dt>zipcodenl</dt>
    <dd>checks for valid dutch zipcodes <em>9999 XX</em> or <em>9999XX</em></dd>
    <dt>datetime</dt>
    <dd>checks for a datetime value <em>YYYY-MM-DD HH:MM:SS</em></dd>
  </dl>
  <p><em>There is more, but if you need that you should be able to understand the validation code in <code>formclass_overrides.php</code>, and I'm to lazy to explain it all. And it's friday afternoon and I'd like a beer now.</em></p>
  <h4>listentoget</h4>
  <p>If you include <code>'listentoget'=>true</code> the form will use the get value for the field name <code>$_GET['examplefield']</code></p>
  <h3><a name="markup"></a>Extra markup options</h3>
  <p>Every field, fieldset and the form itself can have a <code>pre_html</code> and/or a <code>post_html</code> keys where you can
 insert extra custom text before or after those elements.</p>
</div>
</div>
</body>
</html>